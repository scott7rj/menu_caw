<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>css grid 1</title>
<!-- <link rel="stylesheet" type="text/css" href="css/lib/normalize.css"> -->
<!--<link href="css/lib/bootstrap.min.css" rel="stylesheet" type="text/css"/>-->
<!--<link rel="stylesheet" type="text/css" href="css/html.css">-->
<link rel="stylesheet" type="text/css" href="css/forms.css">
<style>
* {
	margin:0;
	padding:0;
}
body {
	background-color: #555555;
	font-size: 0.8em;
}
.wrapper {
	font-size: 1.0em;
	display: grid;
	grid-template-columns: 1fr 1fr;
	grid-template-areas:
	"login user"
	"search search"
	"content content";
	grid-gap: 1px;
}
#login {
	/*grid-column: 1 / 3;*/
	grid-area: login;
}
#user {
	/*grid-column: 1 / 3;*/
	grid-area: user;
}
#search {
	grid-area: search;
}
.wrapper > div {
	background: #aaaaaa;
	padding: 0.1em;
}
/*
.wrapper > div:nth-child(odd) {
	background: #ccc;
}
*/
#content {
	grid-area: content;
	display: grid;
	grid-gap: 0.1em;
	grid-template-columns: repeat(auto-fill, minmax(500px,1fr));
}
#content > div {
	background: #99ccff;
	padding: 0.2em;
}
#content > div:nth-child(odd) {
	background: #4da6ff;
}
#txtShortcut_FyeWgJ {
    background-image: url('img/target.svg');
    position: left;
    background-size: 15px;
    background-repeat: no-repeat;
    padding-left: 1.4em;
}
#txtSearch_FyeWgJ {
    background-image: url('img/search.svg');
    position: left;
    background-size: 15px;
    background-repeat: no-repeat;
    padding-left: 1.4em;
}
ul {
	list-style-type: circle;
}
ul.a {
	margin: 0.2em;
	padding: 0em 0em 0em 1.5em;
	background: #ccc;
}
ul.a > li > label:hover {
	cursor: pointer;
	color: crimson;
}
ul.b {
	margin: 0.2em;
	padding: 0em 0em 0em 1.5em;
	display: none;
}
ul.b > li:hover {
	cursor: pointer;
	color: crimson;
}
/*
ul.a > li > ul {
	
}
*/
.menucheck{display:none}
.menucheck:checked ~ ul.b{
	display: block;
}
</style>
</head>
<body>
<div class="wrapper">
	<div id="login" clearable="f">
		<input type="text" id="txtMatricula_FyeWgJ" size="8" maxlength="7" placeholder="matricula" />
		<input type="password" id="txtSenha_FyeWgJ" size=8" maxlength="8" placeholder="senha" />
		<button class="app-btn" title="login_FyeWgJ" onclick="logon()">logon</button>
		<button class="app-btn" title="logout" onclick="logoff()">logoff</button>
	</div>
	<div id="user" clearable="t"></div>
	<div id="search" clearable="t">
		<input type="text" id="txtShortcut_FyeWgJ" size="12" maxlength="12" onkeyup="" placeholder="shortcut...">
		<input type="text" id="txtSearch_FyeWgJ" size="30" maxlength="100" onkeyup="search()" placeholder="search...">
		<button class="app-btn" title="menu	" onclick="toggleMenu()">menu</button>
		<div id="searchresults" clearable="t">
			<ul id="menu" class="a">
				<li>
					<input class="menucheck" id="check01" type="checkbox"/>
					<label for="check01">Conta/Contrato</label>
					<ul class="b">
						<li>
							<input class="menucheck" id="check01_01" type="checkbox"/>
							<label for="check01_01" onclick="go('01_01')">Informações do Contrato</label>
						</li>
						<li>
							<input class="menucheck" id="check01_02" type="checkbox"/>
							<label for="check01_02" onclick="go('01_02')">Informações do Contrato em Data Anterior</label>
						</li>
						<li>
							<input class="menucheck" id="check01_03" type="checkbox"/>
							<label for="check01_03" onclick="go('01_03')">Situação</label>
						</li>
					</ul>
				</li>
				<li>
					<input class="menucheck" id="check02" type="checkbox"/>
					<label for="check02">Unidade</label>
					<ul class="b">
						<li>
							<input class="menucheck" id="check02_01" type="checkbox"/>
							<label for="check02_01" onclick="go('02_01')">Pendências</label>
						</li>
						<li>
							<input class="menucheck" id="check02_02" type="checkbox"/>
							<label for="check02_02" onclick="go('02_02')">Contas Abertas na Data de Movimento</label>
						</li>
						<li>
							<input class="menucheck" id="check02_03" type="checkbox"/>
							<label for="check02_03" onclick="go('02_03')">CPF/CNPJ Irregular</label>
						</li>
					</ul>
				</li>
				<!--
				<li>
					<input class="menucheck" id="check03" type="checkbox"/>
					<label for="check03">Informações Gerenciais</label>
					<ul class="b">
						<li>Resumo de Movimentações</li>
						<li>Pendências Regularizadas</li>
						<li>Cenário de Poupança</li>
					</ul>
				</li>
				-->
				<!--
				<li><a href="#">Contábil</a></li>
				<li><a href="#">Remuneração</a></li>
				<li><a href="#">Tributário</a></li>
				<li><a href="#">Parâmetros Produto</a></li>
				<li><a href="#">Tarifa</a></li>
				<li><a href="#">Parâmetros Cheque</a></li>
				<li><a href="#">Parâmetros Conta/Contrato</a></li>
				<li><a href="#">Parâmetros Sistema</a></li>
				<li><a href="#">Parâmetros CIF</a></li>
				<li><a href="#">Remanejamento Contas</a></li>
				<li><a href="#">Transferência Contas</a></li>
				<li><a href="#">Migração</a></li>
				-->
			</ul>
		</div>
	</div>
	<div id="content" clearable="f">
		<div id="div1_FyeWgJ" clearable="t">1</div>
		<div id="div2_FyeWgJ" clearable="t">2</div>
		<div id="div3_FyeWgJ" clearable="t">3</div>
		<div id="div4_FyeWgJ" clearable="t">4</div>
		<div id="div5_FyeWgJ" clearable="t">5</div>
		<div id="div6_FyeWgJ" clearable="t">6</div>
		<div id="div7_FyeWgJ" clearable="t">7</div>
		<div id="div8_FyeWgJ" clearable="t">8</div>
		<div id="div9_FyeWgJ" clearable="t">9</div>
		<div id="div10_FyeWgJ" clearable="t">10</div>
		<div id="div11_FyeWgJ" clearable="t">11</div>
		<div id="div12_FyeWgJ" clearable="t">12</div>
	</div>
	
	<!-- 
	<div>6 Lorem ipsum dolor sit amet, consectetur adipiscing elit</div>
	<div>7 Lorem ipsum dolor sit amet, consectetur adipiscing elit</div>
	<div>8 Lorem ipsum dolor sit amet, consectetur adipiscing elit</div>
	<div>9 Lorem ipsum dolor sit amet, consectetur adipiscing elit</div>
	 -->
</div>
<script src="js/lib/jquery-3.3.1.min.js" type="text/javascript"></script>
<script>
function go(target) {
	console.log(target);
}
function toggleMenu() {
	var div, ul, li, i;
	div = document.getElementById("search");
	li = div.getElementsByTagName("li");
	for (i = 0; i < li.length; i++) {
		li[i].style.display = "";
	}
	$("#menu").toggle();
}
function reconfigure(layout) {
	if (layout === 'layout1') {
		$('#content').css({'grid-template-columns':'1fr'});
	}
	if (layout === 'layout2') {
		$('#content').css({'grid-template-columns':'1fr 1fr 1fr'});
	}
	$('#txtSearch_FyeWgJ').val('');
	$("#menu").hide();
	//grid-template-columns: repeat(auto-fill, minmax(500px,1fr));
}
function search() {

	var input, filter, ul, li, a, i, div;

	input = document.getElementById("txtSearch_FyeWgJ");
	filter = input.value.toUpperCase();

	div = document.getElementById("search");

	li = div.getElementsByTagName("li");

	//if ($('#txtSearch_FyeWgJ').val() === '') {
	//	$("#menu").hide();
	//	return;
	//}

	for (i = 0; i < li.length; i++) {
		if (filter === '') {
			li[i].style.display = "";
		} else {
			a = li[i].getElementsByTagName("label")[0];
			if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
				console.log(a.innerHTML.toUpperCase().indexOf(filter));
				console.log(a.innerHTML + " : " + li[i].parentNode.parentNode.nodeName + " : " + li[i].childNodes[0].nodeName + " : " + li[i].childNodes[1].nodeName);
				
				//li[i].parentNode.style.display = "block";
				//li[i].childNodes[1].checked = true;
				li[i].childNodes[0].checked = true;
				li[i].parentNode.style.display = "block";
				li[i].style.display = "";
				
				if (li[i].parentNode.parentNode.parentNode.parentNode.nodeName === 'LI') {
					li[i].parentNode.parentNode.parentNode.parentNode.style.display = "";
				}
				
				if (li[i].parentNode.parentNode.nodeName === 'LI') {
					li[i].parentNode.parentNode.style.display = "";
				}
				
			} else {
				li[i].style.display = "none";
			}
		}
	}
	$("#menu").show();
}
function searchMenu() {
    var input, filter, ul, ul2, li, li2, alabel, blabel, clabel, i, j, k, a, achild, bchild;
	
    input = document.getElementById("txtSearch_FyeWgJ");
    filter = input.value.toUpperCase();
    ul = document.getElementById("menu");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        alabel = li[i].getElementsByTagName("label")[0];
        //console.log(alabel.innerHTML);
		
        if ($('#txtSearch_FyeWgJ').val() === '') {
    		$("#menu").hide();
    		return;
        }
		
		/*
		//console.log('li '+li[i].innerHTML);
		
		//li[i].style.display = "none";
		achild = li[i].childNodes;
		for (j = 0; j < achild.length; j++) {
			if (achild[j].nodeName === 'UL') {
				ul2 = achild[j];
				li2 = ul2.getElementsByTagName("li");
			
				//console.log(j + ': ' + achild[j].nodeType + ' ' + achild[j].nodeName);
				for (k = 0; k < li2.length; k++) {
					if (li2[k].getElementsByTagName("label")[0].innerHTML.toUpperCase().indexOf(filter) > -1) {
						li2[k].style.display = "";
						li[i].style.display = "";
					}
					
				}
				console.log('\n\n');
			}
		}
		$("#menu").show();
		*/
		
		
		
        if (alabel.innerHTML.toUpperCase().indexOf(filter) > -1) {
        	$("#menu").show();
            li[i].style.display = "";
			achild = li[i].childNodes;
			for (j = 0; j < achild.length; j++) {
				if (achild[j].nodeName === 'UL') {
					ul2 = achild[j];
					li2 = ul2.getElementsByTagName("li");
					for (k = 0; k < li2.length; k++) {
						li2[k].style.display = "";
					}
				}
			}
			
        } else {
            li[i].style.display = "none";
        }
		
    }
}
function logon() {
	console.log('logon');
}
function logoff() {
	console.log('logoff');
	
	$("div").each(function(i) {
    	//this.style.backgroundColor="red";
    	console.log($(this).attr('clearable'));
    	if ($(this).attr('clearable') == 't') {
    		$(this).html('');
       	}
  	});
}

$( document ).ready(function() {
    console.log( "ready!" );
    $('#txtSearch_FyeWgJ').focus();
    $("#menu").hide();
    $(document).keypress(function(e) {
        if(e.which == 13) {
            console.log('You pressed enter!');
            console.log($('#txtShortcut_FyeWgJ').is(':focus'));
            console.log($('#txtSearch_FyeWgJ').is(':focus'));
            if($('#txtShortcut_FyeWgJ').is(':focus') == true) {
            	$('#txtShortcut_FyeWgJ').val('');
            }
            if($('#txtSearch_FyeWgJ').is(':focus') == true) {
            	$('#txtSearch_FyeWgJ').val('');
            }
        }
    });
    
});
</script>
</body>
</html>
